{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file://D%3A/h5video_project/pages/auth/signin.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { signIn } from 'next-auth/react';\r\n\r\nconst SignIn = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [isClient, setIsClient] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // 仅在客户端渲染时设置 isClient 为 true\r\n    setIsClient(true);\r\n  }, []);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!isClient) return; // 确保仅在客户端执行\r\n\r\n    const result = await signIn('credentials', {\r\n      redirect: false,\r\n      username,\r\n      password,\r\n    });\r\n\r\n    if (result?.error) {\r\n      setError('登录失败，请检查您的用户名和密码。');\r\n    } else {\r\n      // 登录成功，重定向到用户页面\r\n      window.location.href = '/userpage';\r\n    }\r\n  };\r\n\r\n  if (!isClient) {\r\n    // 在服务器端渲染时返回 null 或者一个简单的加载指示器\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-r from-purple-400 via-pink-500 to-red-500 p-4\">\r\n      <div className=\"p-8 max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden\">\r\n        <h1 className=\"text-3xl font-bold mb-6 text-center text-yellow-600\">欢迎回来</h1>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mb-4\">\r\n            <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-700\">用户名:</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"username\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              required\r\n              className=\"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500\"\r\n            />\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">密码:</label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              required\r\n              className=\"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500\"\r\n            />\r\n          </div>\r\n          {error && <p className=\"text-red-500\">{error}</p>}\r\n          <button type=\"submit\" className=\"block w-full p-2 bg-blue-500 text-white rounded mt-4 hover:bg-blue-600 transition\">登录</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEA,MAAM,SAAS;IACb,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR,6BAA6B;QAC7B,YAAY;IACd,GAAG,EAAE;IAEL,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,CAAC,UAAU,QAAQ,YAAY;QAEnC,MAAM,SAAS,MAAM,CAAA,GAAA,mIAAA,CAAA,SAAM,AAAD,EAAE,eAAe;YACzC,UAAU;YACV;YACA;QACF;QAEA,IAAI,QAAQ,OAAO;YACjB,SAAS;QACX,OAAO;YACL,gBAAgB;YAChB,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB;IACF;IAEA,IAAI,CAAC,UAAU;QACb,+BAA+B;QAC/B,OAAO;IACT;IAEA,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;;8BACb,qKAAC;oBAAG,WAAU;8BAAsD;;;;;;8BACpE,qKAAC;oBAAK,UAAU;;sCACd,qKAAC;4BAAI,WAAU;;8CACb,qKAAC;oCAAM,SAAQ;oCAAW,WAAU;8CAA0C;;;;;;8CAC9E,qKAAC;oCACC,MAAK;oCACL,IAAG;oCACH,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,QAAQ;oCACR,WAAU;;;;;;;;;;;;sCAGd,qKAAC;4BAAI,WAAU;;8CACb,qKAAC;oCAAM,SAAQ;oCAAW,WAAU;8CAA0C;;;;;;8CAC9E,qKAAC;oCACC,MAAK;oCACL,IAAG;oCACH,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,QAAQ;oCACR,WAAU;;;;;;;;;;;;wBAGb,uBAAS,qKAAC;4BAAE,WAAU;sCAAgB;;;;;;sCACvC,qKAAC;4BAAO,MAAK;4BAAS,WAAU;sCAAoF;;;;;;;;;;;;;;;;;;;;;;;AAK9H;uCAEe","debugId":null}}]
}